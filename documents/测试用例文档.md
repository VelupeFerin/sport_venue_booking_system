# 运动场馆预订系统测试用例文档

## 1. 用户管理模块测试用例

| 测试序号 | 测试标题 | 测试描述 | 前置条件 | 测试数据 | 输入/操作 | 预期结果 |
|---------|---------|---------|---------|---------|-----------|----------|
| TC001 | 用户注册-正常流程 | 验证用户使用有效信息成功注册 | 没有重名的用户 | 用户名：testuser1<br>密码：Test123456<br>电话：13800138001 | 1. 访问注册页面<br>2. 填写用户名、密码、电话<br>3. 点击注册按钮 | 1. 注册成功<br>2. 跳转到登录页面<br>3. 数据库中新增用户记录 |
| TC002 | 用户注册-用户名重复 | 验证系统拒绝重复用户名注册 | 存在一个重名的用户 | 已存在用户名：existinguser<br>新密码：Test123456<br>新电话：13800138002 | 1. 使用已存在用户名注册<br>2. 填写其他信息<br>3. 点击注册按钮 | 1. 注册失败<br>2. 显示"用户名已存在"错误信息 |
| TC003 | 用户注册-密码格式验证 | 验证密码格式要求 | 没有重名的用户 | 用户名：testuser2<br>密码：123<br>电话：13800138003 | 1. 使用弱密码注册<br>2. 点击注册按钮 | 1. 注册失败<br>2. 显示密码格式错误信息 |
| TC004 | 用户注册-电话格式验证 | 验证电话号码格式 | 没有重名的用户 | 用户名：testuser3<br>密码：Test123456<br>电话：12345 | 1. 使用无效电话注册<br>2. 点击注册按钮 | 1. 注册失败<br>2. 显示电话格式错误信息 |
| TC005 | 用户登录-正常流程 | 验证用户使用正确凭据登录 | 用户未登录 | 用户名：testuser1<br>密码：Test123456 | 1. 访问登录页面<br>2. 输入用户名密码<br>3. 点击登录按钮 | 1. 登录成功<br>2. 跳转到首页<br>3. 显示用户信息 |
| TC006 | 用户登录-错误密码 | 验证系统拒绝错误密码 | 用户未登录 | 用户名：testuser1<br>密码：wrongpassword | 1. 输入正确用户名<br>2. 输入错误密码<br>3. 点击登录按钮 | 1. 登录失败<br>2. 显示"密码错误" |
| TC007 | 用户登录-不存在的用户名 | 验证系统拒绝不存在用户 | 用户未登录 | 用户名：nonexistentuser<br>密码：Test123456 | 1. 输入不存在用户名<br>2. 输入任意密码<br>3. 点击登录按钮 | 1. 登录失败<br>2. 显示"用户不存在" |
| TC008 | 用户信息修改 | 验证用户修改个人信息功能 | 用户已登录 | 新电话：13900139001 | 1. 登录用户账号<br>2. 进入个人信息页面<br>3. 修改电话号码<br>4. 保存修改 | 1. 修改成功<br>2. 显示更新后的信息<br>3. 数据库中信息已更新 |

## 2. 预约场次模块测试用例

| 测试序号 | 测试标题 | 测试描述 | 前置条件 | 测试数据 | 输入/操作 | 预期结果 |
|---------|---------|---------|---------|---------|-----------|----------|
| TC101 | 查看场次信息-用户视角 | 验证用户查看场次列表功能 | 用户已登录 | 已生成的场次 | 1. 用户登录<br>2. 访问场次页面 | 1. 显示场地号码、时段、价格<br>2. 显示状态（可预订/已预订/已过期）<br>3. 显示备注信息 |
| TC102 | 查看场次信息-商家视角 | 验证商家查看场次管理功能 | 用户已登录，且身份为管理员(商家) | 已配置的场次模板 | 1. 管理员登录<br>2. 访问场次配置模板管理页面 | 显示所有场次模板信息<br> |
| TC103 | 场次自动生成 | 验证每日0点自动生成场次 |  | 场次模板配置数据 | 1. 等待每日0点<br>2. 系统自动执行场次生成 | 1. 成功生成次日场次<br>2. 清除过期场次<br>3. 生成日志记录 |
| TC104 | 场次预订-单个场次 | 验证用户预订单个场次 | 用户已登录，且可以生成新的订单 | 可预订场次：场地1，时段14:00-15:00 | 1. 选择单个场次<br>2. 点击预订按钮<br>3. 确认预订 | 1. 预订成功<br>2. 生成订单<br>3. 场次状态变为已预订 |
| TC105 | 场次预订-多个场次 | 验证用户跨场地多时段预订 | 用户已登录，且可以生成新的订单 | 场次1：场地1，14:00-15:00<br>场次2：场地2，15:00-16:00 | 1. 选择多个场次<br>2. 点击预订按钮<br>3. 确认预订 | 1. 预订成功<br>2. 生成包含多个场次的订单<br>3. 所有选中场次状态变为已预订 |
| TC106 | 场次预订-已预订场次 | 验证系统拒绝预订已预订场次 | 用户已登录，且可以生成新的订单 | 已预订场次 | 1. 尝试选择已预订场次<br>2. 点击预订按钮 | 1. 预订失败<br>2. 显示"场次已被预订"提示 |
| TC107 | 场次预订-过期场次 | 验证系统拒绝预订过期场次 | 用户已登录，且可以生成新的订单 | 过期场次 | 1. 尝试选择过期场次<br />2. 点击预订按钮 | 1. 预订失败<br>2. 显示"场次已过期"提示 |
| TC108 | 场次预订-超出最大场次数限制 | 验证系统限制单次预订场次数量 | 用户已登录，且可以生成新的订单 | 系统配置最大场次数：3<br>尝试预订4个场次 | 选择超过限制的场次数量 | 超出限制后，不能再选择新的场次 |

## 3. 订单模块测试用例

| 测试序号 | 测试标题 | 测试描述 | 前置条件 | 测试数据 | 输入/操作 | 预期结果 |
|---------|---------|---------|---------|---------|-----------|----------|
| TC201 | 订单生成-正常流程 | 验证预订成功后生成订单 | 用户已登录，且可以生成新的订单 | 预订场次：场地1，14:00-15:00，价格50元 | 1. 完成场次预订<br>2. 系统生成订单 | 1. 订单生成成功<br>2. 包含订单ID、总价、下单时间<br>3. 状态为"待核验" |
| TC202 | 订单信息完整性 | 验证订单包含所有必要信息 | 用户已登录，且生成了订单 | 生成的订单 | 1. 查看订单信息 | 1. 显示订单ID、总价、下单时间<br>2. 显示订单场次信息<br>3. 显示订单状态 |
| TC203 | 查看订单列表 | 验证用户查看自己的订单 | 用户已登录，且存在订单 | 用户已生成的订单 | 1. 用户登录<br>2. 访问订单页面 | 1. 显示用户所有订单<br>2. 显示订单信息 |
| TC204 | 订单退订-正常流程 | 验证用户在允许时间内退订 | 用户已登录，且存在允许退订的订单 | 订单：开始时间2小时后<br>退订时间要求：4小时 | 1. 选择可退订订单<br>2. 点击退订按钮<br>3. 确认退订 | 1. 退订成功<br>2. 订单状态变为"已退订"<br>3. 相关场次状态恢复为可预订 |
| TC205 | 订单退订-超出时间限制 | 验证系统拒绝超出退订时间要求的退订 | 用户已登录，且存在不允许退订的订单 | 订单：开始时间1小时后<br>退订时间要求：4小时 | 1. 尝试退订即将开始的订单 | 1. 退订失败<br>2. 显示"超出退订时间限制"提示 |
| TC206 | 订单核验-商家操作 | 验证商家核验订单功能 | 用户已登录，身份是商家 | 待核验订单 | 1. 管理员登录<br>2. 选择待核验订单<br>3. 点击核验按钮 | 1. 核验成功<br>2. 订单状态变为"已核验"<br>3. 记录核验时间 |
| TC207 | 订单核验-已核验订单 | 验证系统拒绝重复核验 | 用户已登录，身份是商家 | 已核验订单 | 1. 尝试核验已核验订单 | 1. 核验失败<br>2. 显示"订单已核验"提示 |

## 4. 场次模板配置模块测试用例

| 测试序号 | 测试标题 | 测试描述 | 前置条件 | 测试数据 | 输入/操作 | 预期结果 |
|---------|---------|---------|---------|---------|-----------|----------|
| TC301 | 场次模板查看 | 验证管理员查看场次模板配置 | 用户已登录，身份是商家 | 已配置的场次模板 | 1. 管理员登录<br>2. 访问场次模板页面 | 1. 显示所有场次模板<br>2. 显示时段、价格、状态、备注<br>3. 提供编辑功能 |
| TC302 | 场次模板修改-单个场次 | 验证修改单个场次模板 | 用户已登录，身份是商家 | 场次：场地1，14:00-15:00<br>新价格：60元 | 1. 选择场次<br>2. 修改价格<br>3. 保存修改 | 1. 修改成功<br>2. 模板信息更新<br>3. 不影响已生成场次 |
| TC303 | 场次模板修改-批量修改 | 验证批量修改场次模板 | 用户已登录，身份是商家 | 选择多个场次<br>统一价格：55元 | 1. 选择多个场次<br>2. 设置统一价格<br>3. 批量保存 | 1. 批量修改成功<br>2. 所有选中场次价格更新<br>3. 显示修改确认信息 |
| TC304 | 场次模板状态设置 | 验证设置场次默认状态 | 用户已登录，身份是商家 | 场次：场地2，15:00-16:00<br>状态：关闭 | 1. 选择场次<br>2. 设置状态为关闭<br>3. 保存设置 | 1. 状态设置成功<br>2. 该时段场次默认不可预订<br>3. 状态在模板中正确显示 |
| TC305 | 场次模板备注设置 | 验证设置场次备注信息 | 用户已登录，身份是商家 | 场次：场地3，16:00-17:00<br>备注：维护中 | 1. 选择场次<br>2. 添加备注信息<br>3. 保存备注 | 1. 备注设置成功<br>2. 备注信息正确显示<br>3. 用户预订时可见备注 |
| TC306 | 场次模板导入 | 验证导入场次模板配置 | 用户已登录，身份是商家 | 模板配置文件 | 1. 选择导入文件<br>2. 点击导入按钮<br>3. 确认导入 | 1. 导入成功<br>2. 模板配置更新<br>3. 显示导入结果统计 |
| TC307 | 场次模板导出 | 验证导出场次模板配置 | 用户已登录，身份是商家 | 当前模板配置 | 1. 点击导出按钮<br>2. 选择导出格式 | 1. 导出成功<br>2. 生成配置文件<br>3. 文件包含完整模板信息 |
| TC308 | 场次模板验证 | 验证模板配置的合理性检查 | 用户已登录，身份是商家 | 冲突的时段配置 | 1. 设置冲突的时段<br>2. 尝试保存配置 | 1. 保存失败<br>2. 显示配置冲突错误<br>3. 提示具体冲突内容 |

## 5. 系统配置模块测试用例

| 测试序号 | 测试标题 | 测试描述 | 前置条件 | 测试数据 | 输入/操作 | 预期结果 |
|---------|---------|---------|---------|---------|-----------|----------|
| TC401 | 系统配置查看 | 验证管理员查看系统配置 | 用户已登录，身份是商家 | 当前系统配置 | 1. 管理员登录<br>2. 访问系统配置页面 | 1. 显示场馆名称<br>2. 显示订单最大场次数<br>3. 显示退订时间要求<br>4. 显示营业时间 |
| TC402 | 场馆名称修改 | 验证修改场馆名称配置 | 用户已登录，身份是商家 | 新场馆名称：阳光运动馆 | 1. 修改场馆名称<br>2. 保存配置 | 1. 修改成功<br>2. 系统显示新名称<br>3. 配置实时生效 |
| TC403 | 订单最大场次数配置 | 验证设置订单最大场次数限制 | 用户已登录，身份是商家 | 新最大场次数：5 | 1. 修改最大场次数<br>2. 保存配置 | 1. 配置成功<br>2. 新订单受新限制约束<br>3. 现有订单不受影响 |
| TC404 | 退订时间要求配置 | 验证设置退订时间要求 | 用户已登录，身份是商家 | 新退订时间：6小时 | 1. 修改退订时间要求<br>2. 保存配置 | 1. 配置成功<br>2. 新退订规则立即生效<br>3. 用户退订时应用新规则 |
| TC405 | 营业时间配置 | 验证设置场馆营业时间 | 用户已登录，身份是商家 | 营业时间：08:00-22:00 | 1. 修改营业时间<br>2. 保存配置 | 1. 配置成功<br>2. 场次生成按新时间<br>3. 非营业时间不可预订 |
| TC406 | 配置热更新验证 | 验证配置修改无需重启服务 | 用户已登录，身份是商家 | 修改任意配置项 | 1. 修改系统配置<br>2. 保存配置<br>3. 立即测试配置效果 | 1. 配置立即生效<br>2. 无需重启服务<br>3. 系统正常运行 |
| TC407 | 配置验证-无效值 | 验证系统拒绝无效配置值 | 用户已登录，身份是商家 | 最大场次数：-1 | 1. 输入无效配置值<br>2. 尝试保存 | 1. 保存失败<br>2. 显示配置错误提示<br>3. 保持原配置不变 |
| TC408 | 配置验证-边界值 | 验证配置边界值处理 | 用户已登录，身份是商家 | 最大场次数：0<br>退订时间：0小时 | 1. 输入边界值<br>2. 尝试保存 | 1. 根据业务规则处理<br>2. 显示相应提示信息<br>3. 确保系统可用性 |
| TC409 | 配置权限验证 | 验证非管理员无法修改配置 | 用户已登录，身份不是商家 | 普通用户账号 | 1. 普通用户登录<br>2. 尝试访问配置页面 | 1. 访问被拒绝<br>2. 显示权限不足提示<br>3. 重定向到用户页面 |

## 测试环境要求

### 硬件环境
- 服务器：2核4G内存
- 数据库：MySQL 8.0+
- 客户端：支持现代浏览器的PC和移动设备

### 软件环境
- 后端：Spring Boot 2.7+
- 前端：Vue.js 3.x
- 数据库：MySQL 8.0+
- 浏览器：Chrome 90+、Firefox 88+、Safari 14+

### 测试数据准备
- 测试用户账号（普通用户、管理员）
- 场次模板配置数据
- 系统初始配置数据
- 测试订单数据

## 测试执行说明

1. **测试顺序**：建议按模块顺序执行，先测试基础功能（用户管理），再测试业务功能
2. **数据隔离**：每个测试用例执行前应确保测试环境数据状态正确
3. **异常测试**：重点关注边界条件和异常情况的处理
4. **性能测试**：对于关键功能（如场次生成）应进行性能测试
5. **兼容性测试**：验证在不同设备和浏览器上的表现 